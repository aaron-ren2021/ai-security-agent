# AI 資安機器人 MVP 測試計畫（POC）測試用例

本文件整理自測試指南，提供各測試面向的詳細測試用例，供快速驗證系統核心功能與架構，確保在Azure環境中正確部署及穩定運作。

---

## 1. 架構測試

### 測試目標
- 驗證系統在Azure雲端環境部署的正確性與穩定性
- 確認基本資安要求（HTTPS、身份驗證）已就緒

### 測試用例：Azure 部署與基本安全性
**描述：**  
確認系統部署在Azure環境中，並啟用HTTPS加密與身份驗證  
**前置條件：**  
- Azure環境配置正確  
- 系統已成功部署至Azure App Service或虛擬機器  
**測試步驟：**  
1. 使用瀏覽器訪問系統網址，確保連線使用HTTPS  
2. 使用預設認證嘗試登入，檢查身份驗證流程  
**預期結果：**  
- 系統使用HTTPS加密連線  
- 登入流程正常且返回有效身份驗證令牌

---

## 2. 功能測試

### 2.1 AI核心功能

#### 測試用例：驗證AI威脅檢測模組
**描述：**  
測試AI模型是否能正確識別模擬異常流量  
**前置條件：**  
- 準備好模擬異常流量資料  
- 部署具可調用的AI威脅檢測API  
**測試步驟：**  
1. 將模擬異常流量資料送至AI威脅檢測API  
2. 檢查輸出訊息是否包含威脅警示或標記  
**預期結果：**  
系統正確標記輸入異常流量為安全威脅

#### 測試用例：驗證異常行為分析模組
**描述：**  
檢查模型對正常與異常行為的辨識準確度  
**前置條件：**  
- 提供正常與異常行為的模擬數據  
**測試步驟：**  
1. 同時送入一組正常與異常行為資料  
2. 驗證模型對異常資料給予高風險評分，正常資料評分低  
**預期結果：**  
異常行為正確識別，正常行為不產生誤報

### 2.2 資料處理與輕量級資料庫整合

#### 測試用例：CRUD 操作測試
**描述：**  
驗證資料庫連線和基本查詢更新功能  
**前置條件：**  
- 輕量級資料庫（例如SQLite或Azure Cosmos DB）已正確連接  
**測試步驟：**  
1. 執行建立（Create）、讀取（Read）、更新（Update）、刪除（Delete）的操作  
2. 檢查返回結果與資料一致性  
**預期結果：**  
每個操作均能如預期存取與操作資料

#### 測試用例：檔案上傳擴展測試
**描述：**  
確保 file_upload_extension 模組能正確處理並分析上傳文件  
**前置條件：**  
- 上傳目錄存在並具寫入權限  
- 提供符合格式的文件測試樣本  
**測試步驟：**  
1. 使用 POST 請求上傳合法文件至 `/upload/vulnerability-report`  
2. 檢查系統驗證、大小限制與文件內容讀取  
3. 驗證最終回傳的 JSON 包含分析結果與文件元數據  
**預期結果：**  
文件上傳成功，並返回成功訊息及分析結果

### 2.3 錯誤處理測試

#### 測試用例：無效輸入處理
**描述：**  
測試當API接收到缺少必要參數或格式錯誤時的錯誤處理  
**前置條件：**  
- 可調用API端點（例如上傳或身份驗證）  
**測試步驟：**  
1. 送入空值或格式不符的資料  
2. 檢查API返回錯誤訊息及相應HTTP狀態碼  
**預期結果：**  
系統應返回具體的錯誤訊息與 400 或 500 類 HTTP狀態碼

---

## 3. 使用者介面（UI）測試

### 測試用例：登入狀態修復頁面測試
**描述：**  
檢查 fix-login.html 是否正確設定 session cookie 並帶有倒數跳轉提示  
**前置條件：**  
- 用戶端載入 fix-login.html 頁面  
**測試步驟：**  
1. 點擊「🔧 修復登入狀態」按鈕  
2. 驗證瀏覽器 cookies 是否包含正確的 session_id  
3. 觀察顯示訊息是否如預期顯示成功提示與跳轉倒數  
**預期結果：**  
瀏覽器 cookies 設定成功，且頁面提示正常跳轉至主頁

### 測試用例：跨設備兼容性測試
**描述：**  
檢查UI在桌面和行動裝置上的顯示效果  
**前置條件：**  
- 配置主流瀏覽器（Chrome、Edge）及行動裝置模擬器  
**測試步驟：**  
1. 分別在桌面瀏覽器與行動裝置模擬器中打開 fix-login.html  
2. 驗證所有主要UI元素（按鈕、資訊區塊、圖示）是否正常呈現  
**預期結果：**  
UI在各裝置上均可正常顯示，具備良好的響應式設計效果

---

## 4. 整合與系統測試

### 測試用例：端對端流程驗證
**描述：**  
從資料輸入開始，經由AI模組、資料庫整合，到最終顯示結果的完整流程測試  
**前置條件：**  
- 所有服務（AI、資料庫、API）已部署且運行正常  
**測試步驟：**  
1. 從前端送出合法請求（例如上傳檔案或觸發AI分析）  
2. 透過後端取得處理結果  
3. 確認前端正確接收到並展示最終結果  
**預期結果：**  
整個系統流程無斷點，所有關鍵模組功能協同工作

---

## 5. 效能及資安測試

### 測試用例：低流量效能測試
**描述：**  
模擬低流量使用狀況下系統運行效能  
**前置條件：**  
- 效能測試工具（如 JMeter）配置完成  
**測試步驟：**  
1. 使用 JMeter 配置低流量請求  
2. 監控系統響應時間與資源消耗  
**預期結果：**  
系統在低流量下保持穩定，響應時間符合預期

### 測試用例：基本資安檢查
**描述：**  
執行HTTPS、身份驗證以及基本資安掃描測試  
**前置條件：**  
- 系統已部署在支持HTTPS的環境中  
**測試步驟：**  
1. 利用手動或自動化工具檢查連線是否使用HTTPS  
2. 驗證登入流程中身份驗證機制  
**預期結果：**  
所有連線均使用加密協議，身份驗證無漏洞

---

## 6. 測試交付成果

- 詳細測試用例清單（如上列各項測試用例）
- 測試報告，包含通過/失敗狀態及關鍵錯誤記錄
- 部署確認記錄（例如Azure環境配置驗證）
- UI 測試結果報告（跨設備功能與兼容性驗證）

---

## 7. 風險與應對措施

- AI 模型識別不準確：使用具代表性的模擬資料，進行多次迭代測試  
- Azure 部署失敗：預先檢查Azure環境配置，確保系統符合部署要求  
- UI 跨設備異常：集中測試主流設備並加入回饋機制，儘早修正問題

---

本文件旨在協助團隊快速定位與解決問題，並確保AI 資安機器人 MVP 符合 POC 要求。